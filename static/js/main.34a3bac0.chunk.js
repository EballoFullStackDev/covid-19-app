(this.webpackJsonpcovid19data=this.webpackJsonpcovid19data||[]).push([[0],{34:function(e,t,a){e.exports=a(67)},39:function(e,t,a){},40:function(e,t,a){},44:function(e,t){},46:function(e,t){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),o=a.n(r),c=(a(39),a(40),a(27)),s=a(28),d=a(32),u=a(29),i=a(33),m=a(6),f=a.n(m),h=a(16),p=function(e){var t=e.rowData,a=e.handleOpenModal;return l.a.createElement("tr",{onClick:function(){return a()}},l.a.createElement("td",null,t[1]),l.a.createElement("td",null,t[3]),l.a.createElement("td",null,t[4]),l.a.createElement("td",null,t[5]))},E=a(31),D=a.n(E),v=function(e){var t=e.modalInfo,a=e.handleCloseModal;return console.log(t),l.a.createElement("div",null,l.a.createElement("h1",null,t.name),l.a.createElement("p",{className:"modalInfo"},"Confirmed: ",t.infected),l.a.createElement("p",{className:"modalInfo"},"Deaths: ",t.deaths),l.a.createElement("p",{className:"modalInfo"},"Recovered: ",t.recovered),l.a.createElement("p",{className:"modalInfo"},"Newly Infected: ",t.newlyInfected),l.a.createElement("p",{className:"modalInfo"},"New Deaths: ",t.newDeaths),l.a.createElement("button",{onClick:function(){return a()}},"Close"))},C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleOpenModal=function(e){var t=a.state.previousDayData.filter((function(t){return t[1].toLowerCase().includes(e[1].toLowerCase())}));a.setState({modalInfo:{name:e[1],infected:e[3],deaths:e[4],recovered:e[5],newlyInfected:e[3]-t[0][3],newDeaths:e[4]-t[0][4]},showModal:!0})},a.handleCloseModal=function(e){a.setState({showModal:!1})},a.fetchData=function(){var e=f()(new Date).subtract(1,"days"),t="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/";Object(h.a)(t+f()(e).format("MM-DD-YYYY")+".csv",{complete:function(e){return a.updateData(e,!1)}}),Object(h.a)(t+f()(e.subtract(1,"days")).format("MM-DD-YYYY")+".csv",{complete:function(e){return a.updateData(e,!0)}})},a.addStatistics=function(e,t){return e[3]=e[3]+Number(t[3]),e[4]=e[4]+Number(t[4]),e[5]=e[5]+Number(t[5]),e},a.updateData=function(e,t){var n=[];n.push(["","Canada","",0,0,0,"",""]),n.push(["","US","",0,0,0,"",""]),n.push(["","China","",0,0,0,"",""]),n.push(["","Australia","",0,0,0,"",""]),e.data.forEach((function(e){var t=e[1];"China"===t?n[2]=a.addStatistics(n[2],e):"US"===t?n[1]=a.addStatistics(n[1],e):"Canada"===t?n[0]=a.addStatistics(n[0],e):"Australia"===t?n[3]=a.addStatistics(n[3],e):1!==e.length&&"Country/Region"!==t&&n.push(e)})),n.sort((function(e,t){return t[3]-e[3]})),t?a.setState({previousDayData:n}):a.setState({data:n,filteredData:n})},a.inputHandler=function(e){var t=a.state.data.filter((function(t){return t[1].toLowerCase().includes(e.target.value.toLowerCase())}));a.setState({input:e.target.value,filteredData:t})},a.state={data:[],filteredData:[],previousDayData:[],showModal:!1,input:"",modalInfo:{}},a.fetchData(),a}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h1",{className:"display-3"},"COVID-19 cases by country"),l.a.createElement("h1",{className:"display-4"},"data fetched on "+f()(new Date).format("MMMM Do YYYY")),l.a.createElement(D.a,{isOpen:this.state.showModal,contentLabel:"Details",onRequestClose:function(){return e.handleCloseModal()},shouldCloseOnOverlayClick:!0,ariaHideApp:!1,className:"Modal"},l.a.createElement(v,{modalInfo:this.state.modalInfo,handleCloseModal:function(){return e.handleCloseModal()}})),l.a.createElement("input",{type:"textbox",value:this.state.input,onChange:function(t){return e.inputHandler(t)},placeholder:"Search for country name",className:"form-control"}),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"Country"),l.a.createElement("th",null,"Infected"),l.a.createElement("th",null,"Deaths"),l.a.createElement("th",null,"Recovered"))),l.a.createElement("tbody",null,this.state.filteredData.map((function(t){return l.a.createElement(p,{key:t,rowData:t,handleOpenModal:function(){return e.handleOpenModal(t)},handleCloseModal:function(){return e.handleCloseModal()}})})))))}}]),t}(n.Component);var M=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(C,null))};o.a.render(l.a.createElement(M,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.34a3bac0.chunk.js.map